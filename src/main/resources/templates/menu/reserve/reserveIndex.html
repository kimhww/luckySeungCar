<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/defaultLayout}">
<head>
    <meta charset="UTF-8">
    <title>럭키승카 정비소 - 예약</title>
    <link th:inline="css" th:href="|@{/lib/css/menu/reserve/reserve.css}|" rel="stylesheet"/>
    <script th:inline="javascript" type="text/javascript" th:src="@{/lib/js/menu/reserve/reserve.js}"></script>
</head>
<body>
<div layout:fragment="Content" class="container" role="main" aria-labelledby="mainTitle">
    <div class="header">
        <div class="logo" aria-hidden="true">⭐🔧</div>
        <div class="title">
            <h2 id="mainTitle">럭키승카 정비소</h2>
            <p>간편한 예약, 정확한 정비</p>
        </div>
    </div>

    <h3>예약하기</h3>

    <form id="reserveForm" onsubmit="return false;">
        <div class="row">
            <div class="field">
                <label for="category">대분류 (서비스 카테고리)</label>
                <select id="category" required>
                    <option value="">선택하세요</option>
                    <option value="maintenance">정기점검(정비)</option>
                    <option value="tyres">타이어/휠</option>
                    <option value="oil">오일 교환</option>
                    <option value="battery">배터리</option>
                    <option value="accessories">소모품/부속</option>
                </select>
            </div>

            <div class="field">
                <label for="subcategory">소분류 (세부항목)</label>
                <select id="subcategory" required>
                    <option value="">대분류 선택 시 자동표시</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="field">
                <label for="date">예약 일자</label>
                <input id="date" type="date" required />
            </div>
            <div class="field">
                <label for="time">예약 시간</label>
                <input id="time" type="time" required />
            </div>
        </div>

        <div class="row">
            <div class="field">
                <label for="name">이름</label>
                <input id="name" type="text" placeholder="홍길동" required />
            </div>
            <div class="field">
                <label for="phone">연락처</label>
                <input id="phone" type="tel" placeholder="010-1234-5678" required />
            </div>
        </div>

        <div class="row">
            <div class="field">
                <label for="birth">생년월일</label>
                <input id="birth" type="date" />
            </div>
            <div class="field">
                <label for="carModel">차종 / 모델</label>
                <input id="carModel" type="text" placeholder="예: KIA K5 2.0" />
            </div>
        </div>

        <div class="field" style="margin-bottom:10px;">
            <label for="requests">예약 상세 요청 (선택)</label>
            <textarea id="requests" placeholder="예: 타이어 점검 부탁드립니다. 엔진 소음 확인 희망."></textarea>
        </div>

        <div class="note" style="margin-bottom:10px;">원하시면 빠른 요청을 위해 아래 옵션을 선택하세요.</div>
        <div class="extras" id="quickOptions">
            <div class="chip" data-val="loaner">대체 차량 요청</div>
            <div class="chip" data-val="express">빠른 점검</div>
            <div class="chip" data-val="wash">세차 포함</div>
            <div class="chip" data-val="parts">부품 사전확인</div>
        </div>

        <div class="actions" style="margin-top:20px;">
            <button class="btn ghost" id="clearBtn" type="button">초기화</button>
            <button class="btn" id="submitBtn" type="button">예약완료</button>
        </div>

        <div id="display" aria-live="polite">
            <div class="preview-card" id="miniPreview"></div>
        </div>
    </form>
</div>

<!-- 모달 -->
<div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
        <h4>예약 정보 확인</h4>
        <div class="sub">아래 정보를 확인 후 '확인'을 누르면 예약이 완료된 것으로 처리됩니다.</div>
        <div id="modalContent" class="group"></div>
        <div class="footer">
            <button class="btn-light" id="modalCancel">취소</button>
            <button class="btn-primary" id="modalConfirm">확인</button>
        </div>
    </div>
</div>

</body>
</html>